<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="estilos.css">
    <title>Encriptador</title>
  </head>
  <body>
    <header>
      <h1>Bienvenido al Encriptador!!!</h1>
    </header>
    <section class="home">
      <div class="in-flex">
        <input type="text" name="" value="" id="entrada">
        <button  class="boton" onclick="entrada()" type="button" name="button">Encriptar</button>
        <button class="boton" onclick="desEncriptar()" type="button" name="button">Desencriptar</button>
        <br>
        <br>
        <p>Solo se admiten letras minusculas sin ascento</p>
      </div>
      <div id="oculto" class="in-flex">
        <img id="imagen" src="lupa.png" alt="">
        <textarea name="name" rows="8" cols="80" id="salida"> </textarea>
        <button class="boton" onclick="copiar()" type="button" name="button">Copiar</button>
        <button class="boton" onclick="limpiarArea()" type="button" name="button">Limpiar</button>
      </div>
    </section>
    <footer>
      <p>Elaborado por: Fernando Flores <br></p>
      <p>Medios de contacto:<br>
      <li><a href="https://www.linkedin.com/in/fernando-gabriel/">LinkedIn</a></li>
      <li> <a href="https://github.com/fs17006"> Github </a> </li>
    </p>
    </footer>
  </body>
</html>

<script>

//declaracion de variables
  var input;
  var textarea;
  var aux;

//funcion para ocultar el textarea
function inicio(){
  //lectura del input
  input=document.querySelector("input");
  if(input.value==""){
    document.getElementById("imagen").style.display = "block";
    document.getElementById("salida").style.display = "none";
  }
}

//funcion que pasa el texto del input a una variable auxiliar
//para luego pasarla al textarea
  function entrada(){
    //toLowerCase convierte el texto a minusculas
    aux=input.value.toLowerCase();
    if(input.value!=""){
      document.getElementById("imagen").style.display = "none";
      document.getElementById("salida").style.display = "block";

    }

    aux=aux.replace(/e/igm,"enter");
    aux=aux.replace(/o/igm,"ober");
    aux=aux.replace(/i/igm,"imes");
    aux=aux.replace(/a/igm,"ai");
    aux=aux.replace(/u/igm,"ufat");
    document.getElementById("salida").value = aux;
    input.value="";
    aux="";
    textarea.focus();
  }

//la funciona a demas de Desencriptar limpia el texto encriptado
  function desEncriptar(){
    textarea=document.querySelector("textarea");
    aux=textarea.value;
    aux=aux.replace(/enter/igm,"e");
    aux=aux.replace(/ober/igm,"o");
    aux=aux.replace(/imes/igm,"i");
    aux=aux.replace(/ai/igm,"a");
    aux=aux.replace(/ufat/igm,"u");
    textarea.value="";
    document.getElementById("salida").value=aux;
    textarea.focus();
    aux="";
  }

//limpia el contenido del input y el textarea, ademas enfoca el cursor en el input
  function limpiarArea(){
    input.value="";
    textarea.value="";
    input.focus();
    inicio();
  }

//funcion que permite copiar el contenido del textarea
  function copiar(){
    //declaracion de variable de procesp
    var contenido=document.getElementById("salida");
    contenido.select();
    document.execCommand("copy");

    alert("Texto copiado con exito!!");
  }

  inicio();

//declaracion de variable para accinar acciones a los botones
  var button=document.querySelector("button");
  button.onClick=entrada();
  button.onClick=desEncriptar();
  button.onClick=limpiarArea();
  button.onClick=copiar();
</script>
